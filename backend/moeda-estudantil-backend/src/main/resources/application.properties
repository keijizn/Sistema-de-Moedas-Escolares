spring.application.name=moeda-estudantil

# Porta: em produção (Render, etc.) a plataforma injeta a variável PORT.
# Em dev local, cai no default 8080.
server.port=${PORT:8080}

# ==============================
# CONFIGURAÇÃO DO BANCO POSTGRES
# ==============================
# Em desenvolvimento local, você pode setar SPRING_DATASOURCE_URL/USERNAME/PASSWORD
# via variáveis de ambiente ou usar um application-dev.properties separado.
# Em produção (Render), usaremos apenas variáveis de ambiente.

spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# ==============================
# CONFIGURAÇÃO DE E-MAIL (SMTP)
# ==============================
# Usamos variáveis de ambiente para não expor credenciais no código.
# Em dev, você pode definir essas variáveis na sua máquina.
# Em produção, cadastra no painel da Render.

spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME}
spring.mail.password=${SPRING_MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.default-encoding=UTF-8

# Remetente usado pelos serviços de e-mail.
# Se não definir APP_MAIL_FROM, usa o próprio username como fallback.
app.mail.from=${APP_MAIL_FROM:${SPRING_MAIL_USERNAME}}

# ==============================
# CONFIGURAÇÃO EMAILJS (se usar no backend)
# ==============================
emailjs.service-id=${EMAILJS_SERVICE_ID:}
emailjs.template-id-redeem=${EMAILJS_TEMPLATE_ID_REDEEM:}
emailjs.public-key=${EMAILJS_PUBLIC_KEY:}
